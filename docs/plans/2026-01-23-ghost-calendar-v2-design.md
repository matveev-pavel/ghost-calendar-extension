# Ghost Calendar v2 — Дизайн

## Обзор

Расширение Ghost Calendar для Chrome получает 4 новые фичи:
1. Drag & drop для изменения дат публикации scheduled-постов
2. Показ опубликованных постов за вчера и сегодня (в дополнение к scheduled)
3. Inline-редактирование тегов (добавление/удаление без доп. окон)
4. Новый календарный вид — вертикальный timeline вместо сетки

## Списочный вид

### Карточка поста (вариант B)

```
┌─────────────────────────────────────┐
│ ⠿ ┌────┐  Название поста           │
│   │ img│  Excerpt текст...          │
│   └────┘  14:30  ○ запланирован     │
│   [ai] [гайд] [продуктивность] [+] │
└─────────────────────────────────────┘
```

- `⠿` — drag handle, только для scheduled-постов, появляется при hover
- Статусы: `● опубликован` (серый), `○ запланирован` (зелёный)
- Теги: крестик при hover для удаления, `[+]` открывает inline input

### Порядок групп

Хронологический: вчера → сегодня → завтра → ...

```
── ВЧЕРА ────────────────────────────
  (опубликованные посты, без drag)

── СЕГОДНЯ ──────────────────────────
  (опубликованные + запланированные)

── ЗАВТРА ───────────────────────────
  (запланированные, с drag)
```

### Drag & drop

- Перетаскивание поста между группами дат
- При drag появляются дропзоны между группами
- При drop — PUT запрос к Ghost Admin API, обновление `published_at`
- Только для постов со статусом `scheduled`

## Календарный вид (timeline)

Вертикальный timeline вместо месячной сетки:

```
  Январь 2026                    ◀  ▶
  ├─ Ср 22 (вчера) ─────────────────┤
  │  16:00  ● AI инструменты 2026    │
  ├─ Чт 23 (сегодня) ───────────────┤
  │  10:00  ● Mac приложения         │
  │  14:30  ○ Нейросети бесплатно    │
  ├─ Пт 24 ─────────────────────────┤
  │  09:00  ○ Cubic AI review        │
  ├─ Сб 25 ─────────────────────────┤
  │                                  │
  └──────────────────────────────────┘
```

- Навигация стрелками по месяцам
- `●` = опубликован (не draggable), `○` = запланирован (draggable)
- Drag & drop между днями для смены даты
- Пустые дни показываются для контекста
- Скролл к сегодняшнему дню при открытии

## Редактирование тегов

### Отображение
- Теги показываются как чипы под контентом поста
- Максимум — сколько влезает в одну строку, остальные скрыты

### Удаление
- При hover на тег появляется `×`
- Клик на `×` — мгновенный PUT к API (удаление тега)
- Без подтверждения

### Добавление
- Клик на `[+]` — inline input вместо кнопки
- Ввод названия тега, Enter подтверждает
- Escape или blur — отмена
- Автодополнение из существующих тегов блога (опционально)

## API изменения

### Загрузка постов
- `GET /posts/?filter=status:scheduled&fields=id,title,slug,published_at,feature_image,custom_excerpt,tags&include=tags&limit=all`
- `GET /posts/?filter=status:published+published_at:>='вчера 00:00'&fields=id,title,slug,published_at,feature_image,custom_excerpt,tags&include=tags&limit=all`

### Обновление даты
- `PUT /posts/{id}/` с телом `{ posts: [{ published_at: "новая дата", updated_at: "текущий updated_at" }] }`

### Обновление тегов
- `PUT /posts/{id}/` с телом `{ posts: [{ tags: [...новый массив тегов], updated_at: "..." }] }`

## Заголовок

Меняется с "Запланировано" на "Ghost Calendar".
